(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function r(e,t,n,o,a=!1){const s=document.createElement(e);return t&&(s.className=t),o&&(s.textContent=o),n&&(a&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s)),s}function l1(e){const t=c1(e),n=[];for(let o=0;o<t[0].length;o++){n[o]=[];for(let a=0;a<t.length;a++)n[o][a]=t[a][o]}return n}function c1(e){const t=e.length,n=e[0].length,o=Array(n).fill(0).map(()=>[]);for(let a=0;a<n;a++){let s=0;for(let c=0;c<t;c++)e[c][a]===1?s++:s>0&&(o[a].push(s),s=0);for(s>0&&o[a].push(s);o[a].length<5;)o[a].unshift(0)}return o}function m1(e){const t=e.length,n=Array(t).fill(0).map(()=>[]);for(let o=0;o<t;o++){let a=0;for(let s=0;s<e[o].length;s++)e[o][s]===1?a++:a>0&&(n[o].push(a),a=0);for(a>0&&n[o].push(a);n[o].length<5;)n[o].unshift(0)}return n}const M={matrix1:{size:5,name:"Airplane",data:[[0,0,1,0,0],[0,1,1,1,0],[1,1,1,1,1],[0,0,1,0,0],[0,1,1,1,0]]},matrix2:{size:5,name:"Cross",data:[[0,1,1,1,0],[1,1,0,1,1],[1,0,0,0,1],[1,1,0,1,1],[0,1,1,1,0]]},matrix3:{size:5,name:"Snack",data:[[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,1],[1,1,1,1,1]]},matrix4:{size:5,name:"Bat",data:[[0,1,0,1,0],[1,1,1,1,1],[1,1,1,1,1],[1,0,1,0,1],[1,0,0,0,1]]},matrix5:{size:5,name:"Chess",data:[[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1],[0,1,0,1,0],[1,0,1,0,1]]},matrix6:{size:10,name:"Clown",data:[[0,0,0,1,1,1,1,0,0,0],[0,0,1,0,0,1,1,1,0,0],[1,1,1,1,1,1,1,1,1,1],[0,1,0,1,0,0,1,0,1,0],[1,0,0,0,1,1,0,0,0,1],[1,0,0,0,1,1,0,0,0,1],[0,1,0,0,0,0,1,0,1,0],[0,1,0,0,1,1,0,0,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,0]]},matrix7:{size:10,name:"Leaf",data:[[0,0,0,0,1,1,1,1,1,1],[0,0,0,1,0,1,0,1,0,1],[0,0,1,1,0,1,0,1,1,0],[0,1,0,1,0,1,1,0,1,0],[0,1,0,1,0,1,1,1,1,0],[0,1,0,1,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,0,1,1,1,1,0,0,0],[1,1,0,0,0,0,0,0,0,0]]},matrix8:{size:10,name:"Music",data:[[0,0,0,0,0,0,1,1,1,1],[0,0,0,1,1,1,0,0,0,1],[0,0,0,1,0,0,0,1,1,1],[0,0,0,1,1,1,1,0,0,1],[0,0,0,1,0,0,0,1,1,1],[0,1,1,1,0,0,1,1,1,1],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,0,1,1,0],[0,1,1,0,0,0,0,0,0,0]]},matrix9:{size:10,name:"TV",data:[[0,0,1,0,0,0,0,1,0,0],[0,0,0,1,0,0,1,0,0,0],[1,1,1,1,1,1,1,1,1,1],[1,0,1,1,0,0,0,0,1,1],[1,1,1,0,0,0,0,0,0,1],[1,0,1,0,0,0,0,0,0,1],[1,1,1,0,0,0,0,0,0,1],[1,1,1,1,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0,1,0]]},matrix10:{size:10,name:"House",data:[[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1]]},matrix11:{size:15,name:"Peak",data:[[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,0,1,0,1,1,1,1,1,1],[0,1,1,1,1,0,0,1,0,0,1,1,1,1,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0]]},matrix12:{size:15,name:"Pocket Watch",data:[[0,0,0,0,1,1,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,1,0,0,0,0,1,1,0],[0,0,0,0,1,1,1,0,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],[0,0,0,1,1,1,1,1,0,0,0,0,0,0,1],[0,0,1,1,1,1,1,1,1,0,0,0,0,0,1],[0,1,1,1,0,1,0,1,1,1,0,0,0,0,1],[1,1,1,0,0,1,0,0,1,1,1,0,0,1,1],[1,1,0,0,0,1,0,0,0,1,1,0,0,0,1],[1,1,1,0,0,1,1,0,1,1,1,0,0,0,1],[1,1,0,0,0,0,0,0,0,1,1,0,0,1,1],[1,1,1,0,0,0,0,0,1,1,1,0,0,0,1],[0,1,1,1,0,1,0,1,1,1,0,0,0,0,1],[0,0,1,1,1,1,1,1,1,0,0,0,0,1,1],[0,0,0,1,1,1,1,1,0,0,0,0,0,0,0]]},matrix13:{size:15,name:"Sun",data:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],[1,1,1,1,0,0,1,0,1,0,0,1,1,1,1],[1,0,0,1,0,0,0,0,0,0,0,1,0,0,1],[1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},matrix14:{size:15,name:"Flowers",data:[[1,1,0,1,0,1,1,1,1,1,1,1,1,1,1],[1,0,0,1,0,0,1,1,1,1,1,0,1,0,1],[1,1,1,0,1,1,1,1,1,1,0,0,1,0,0],[1,0,0,1,0,0,1,1,1,1,1,1,0,1,1],[1,1,0,1,0,1,0,1,1,1,0,0,1,0,0],[1,1,1,1,1,1,0,1,1,0,1,0,1,0,1],[1,1,1,1,1,1,0,1,0,1,1,1,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,1,1,0,0,0,1,0,1,1,1,1,1],[1,1,1,1,1,0,0,0,1,0,1,1,1,1,1],[1,1,1,1,0,0,0,0,0,1,0,1,1,1,1],[1,1,1,0,0,0,0,0,0,0,1,0,1,1,1],[1,1,1,0,0,0,0,0,0,0,1,0,1,1,1],[1,1,1,1,0,0,0,0,0,1,0,1,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1]]},matrix15:{size:15,name:"Swan",data:[[1,1,1,1,1,1,1,1,1,1,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,0,0,1,1,1,1],[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1],[0,1,1,0,0,1,1,1,1,1,0,1,1,1,1],[1,0,0,1,0,0,0,0,1,1,0,1,1,1,1],[1,1,0,0,1,1,0,0,0,1,1,0,1,1,1],[1,1,0,1,0,0,1,1,0,1,1,0,0,1,1],[1,1,1,0,1,1,0,0,1,0,1,1,0,0,1],[1,1,1,0,0,0,1,1,0,1,0,0,1,0,1],[1,1,1,0,1,1,0,0,1,0,0,0,1,0,1],[0,1,1,0,0,0,1,1,0,1,0,0,1,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,1,0,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}};let w,z,S;function u1(){w=r("div","game__stop-watch stop-watch",b),z=r("span","stop-watch__minutes",w,"00"),S=r("span","stop-watch__seconds",w,"00");const e=document.createTextNode(":");z.parentNode.insertBefore(e,S)}let f=0,u=0,B;function d1(){u++,u>59&&(f++,u=0),S.innerHTML=u<10?`0${u}`:u,z.innerHTML=f<10?`0${f}`:f}let I=!1;function O(e=0,t=0){I||(f=e,u=t,Q(),B=setInterval(d1,1e3),I=!0)}function Q(){S.innerHTML=u<10?`0${u}`:u,z.innerHTML=f<10?`0${f}`:f}const V=()=>{clearInterval(B)},f1=()=>I,p1=()=>{const e=JSON.parse(localStorage.getItem("currentPuzzle"));e.totalTime=Number(z.innerHTML*60)+Number(S.innerHTML),localStorage.setItem("currentPuzzle",JSON.stringify(e))},A=()=>{u=0,f=0,Q(),clearInterval(B),I=!1};function k(e,t,n){e.querySelectorAll(".stop-watch__title").forEach(c=>c.remove());const a=document.createElement("h3");a.className="stop-watch__title stop-watch__title_size",a.textContent=`${n}x${n}`;const s=document.createElement("h3");s.className="stop-watch__title stop-watch__title_name",s.textContent=t,e.insertBefore(a,e.firstChild),e.insertBefore(s,a.nextSibling)}function R(){const e=E1().length;g1(),W(e),A(),m(g,!0)}function g1(){const e=document.querySelectorAll(".game__game-cell"),t=document.querySelectorAll(".game__cross1"),n=document.querySelectorAll(".game__cross2");e.forEach(a=>{a.classList.remove("game__game-cell_active")}),D(t),D(n),JSON.parse(localStorage.getItem("savedGame"))&&m(p,!1),m(x,!0)}function D(e){e.forEach(t=>{t.classList.add("game__cross_opacity")})}function _1(){const e=H(),t=h1(),n=JSON.parse(localStorage.getItem("currentPuzzle"));let o=n?n.name:"Unknown",a=n?n.size:"Unknown",s=JSON.parse(localStorage.getItem("results"))||[];s.push({gameTime:e,totalInSeconds:t,puzzleName:o,puzzleSize:a}),localStorage.setItem("results",JSON.stringify(s))}function H(){return{minutes:z.innerHTML,seconds:S.innerHTML}}function h1(){let{minutes:e,seconds:t}=H();return Number(e*60)+Number(t)}function y1(){if(!f1())return;V(),m(g,!0);const e=H(),t=document.querySelector(".game__game-grid"),n=Math.sqrt(t.children.length);let o=Array.from({length:n},()=>Array(n).fill(0));document.querySelectorAll(".game__game-cell").forEach((c,i)=>{const l=Math.floor(i/n),_=i%n;c.classList.contains("game__game-cell_active")&&(o[l][_]=1)});const a=JSON.parse(localStorage.getItem("currentPuzzle")),s=a?a.name:"Unknown";localStorage.setItem("savedGame",JSON.stringify({savedMatrix:o,time:e,name:s,size:n})),R(),m(p,!1)}function v1(){m(p,!0),m(x,!1),m(g,!1);let e=JSON.parse(localStorage.getItem("savedGame"));if(e){n1();const t=parseInt(e.time.minutes,10),n=parseInt(e.time.seconds,10);O(t,n);const a=Object.values(M).find(s=>s.name===e.name);if(a){const{size:s,data:c}=a;q(s,c),x1(e.savedMatrix),B1(e.savedMatrix),t1(c)}else m(p,!0)}else m(p,!0)}function x1(e){for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)if(e[t][n]===1){const o=`.game__game-cell[data-row="${t}"][data-col="${n}"]`,a=document.querySelector(o);a&&a.classList.add("game__game-cell_active")}}function w1(){R();const e=z1();q(e.size,e.data),k(w,e.name,e.size),localStorage.setItem("currentPuzzle",JSON.stringify({name:e.name,size:e.size,totalTime:0}))}function z1(){const e=Object.keys(M),t=e[Math.floor(Math.random()*e.length)];return M[t]}let x,j,g,p;function S1(e){x=r("button","side-panel__button side-panel__reset-button",e,"Reset"),j=r("button","side-panel__button side-panel__random-button",e,"Random"),g=r("button","side-panel__button side-panel__save-button",e,"Save game"),p=r("button","side-panel__button side-panel__continue-button",e,"Continue saved game"),x.addEventListener("click",R),j.addEventListener("click",w1),g.addEventListener("click",y1),p.addEventListener("click",v1)}function m(e,t=!0){e.disabled=t}let d,C,L;function T1(){d.style.visibility="visible",d.style.opacity="1",d.showModal()}function J(){d.style.visibility="hidden",d.style.opacity="0",d.close()}function b1(e){e.key==="Escape"&&J()}function Y(){d?C.innerHTML="":(d=r("dialog","dialog",N),C=r("div","dialog__inner-box",d),L=r("button","dialog__close-button close-button",d),r("span","close-button__item1",L),r("span","close-button__item2",L)),L.addEventListener("click",J),window.addEventListener("keydown",b1),T1()}function M1(e){const t=parseInt(e.split("x")[0]),n=Object.values(M).filter(s=>s.size===t);X(`Puzzle size: ${e}`);const o=r("div","dialog__text",C);let a;n.forEach(s=>{a=r("button","dialog__name",o,s.name),a.addEventListener("click",function(){L1(s.size,s.data),k(w,s.name,s.size),A(),localStorage.setItem("currentPuzzle",JSON.stringify({name:s.name,size:s.size}))})})}function X(e){return r("h3","dialog__title",C,e)}function L1(e,t){J(),q(e,t),JSON.parse(localStorage.getItem("savedGame"))&&m(p,!1)}let E;function $1(e){const t=r("div","header",e,null,!0);E=r("div","header__wrapper",t),r("h1","header__title",E,"Nonogram"),N1()}let F,G,P,$,Z;function N1(){P=r("menu","header__menu menu",E),F=r("li","menu__item menu__score",P,"Score"),$=r("ul","menu__dropdown-wrapper",F),e1(),G=r("li","menu__item menu__select-puzzle",P,"Select Puzzle"),Z=r("ul","menu__dropdown-wrapper",G),I1()}function I1(){H1.forEach(e=>{const t=r("li","menu__dropdown-item",Z);C1(G,t),r("button","menu__dropdown-button",t,e),t.addEventListener("click",function(){Y(),M1(e)})})}function e1(){const e=JSON.parse(localStorage.getItem("results"))||[];if($.innerHTML="",e.length===0){const t=r("li","menu__dropdown-item menu__dropdown-item_no-data",$);r("div","menu__dropdown-button menu__dropdown-button_no-data",t,"No results yet")}else e.slice(-5).sort((t,n)=>t.totalInSeconds-n.totalInSeconds).forEach((t,n)=>{if(n<5){const o=r("li","menu__dropdown-item",$);r("div","menu__dropdown-button",o,`${t.puzzleName} ${t.puzzleSize}x${t.puzzleSize} in ${t.gameTime.minutes}:${t.gameTime.seconds}`)}})}function C1(e,t,n="max"){let o;n==="max"?o=Math.max(e.offsetWidth,t.offsetWidth):n==="min"&&(o=Math.min(e.offsetWidth,t.offsetWidth)),e.style.width=`${o}px`,t.style.width=`${o}px`}function P1(){setTimeout(()=>{m(g,!0);const e=document.querySelectorAll(".game__cross1"),t=document.querySelectorAll(".game__cross2"),n=document.querySelectorAll(".game__game-cell");e.forEach(o=>o.classList.remove("game__cross_opacity")),t.forEach(o=>o.classList.remove("game__cross_opacity")),n.forEach(o=>o.style.pointerEvents="none")},1e3),setTimeout(()=>{e1(),Y();const e=JSON.parse(localStorage.getItem("currentPuzzle")),t=X(`Great! You have solved the nonogram in ${e.totalTime} seconds!`);t.style.padding="50px"},2e3)}let T=[];function W(e){T=Array(e).fill().map(()=>Array(e).fill(0))}function O1(e,t){T[e][t]=T[e][t]===1?0:1}function E1(){return T}function t1(e){G1(T,e)&&(V(),p1(),_1(),P1(),localStorage.removeItem("savedGame"))}function G1(e,t){for(let n=0;n<e.length;n++)for(let o=0;o<e.length;o++)if(e[n][o]!==t[n][o])return!1;return!0}function B1(e){T=e.map(t=>[...t])}let b,h,y,v;function q(e,t){const n=e;U(n),window.addEventListener("resize",()=>U(n)),n1(),o1(n,t),W(n)}function n1(){h.innerHTML="",y.innerHTML="",v.innerHTML=""}function A1(e,t,n){window.matchMedia("(max-width: 700px)").matches?(h.style.gridTemplateRows=`repeat(5, ${n}px)`,h.style.gridTemplateColumns=`repeat(${e}, ${n}px)`,y.style.gridTemplateRows=`repeat(${e}, ${n}px)`,y.style.gridTemplateColumns=`repeat(5, ${n}px)`,v.style.gridTemplateRows=`repeat(${e}, ${n}px)`,v.style.gridTemplateColumns=`repeat(${e}, ${n}px)`):(h.style.gridTemplateRows=`repeat(5, ${t}px)`,h.style.gridTemplateColumns=`repeat(${e}, ${t}px)`,y.style.gridTemplateRows=`repeat(${e}, ${t}px)`,y.style.gridTemplateColumns=`repeat(5, ${t}px)`,v.style.gridTemplateRows=`repeat(${e}, ${t}px)`,v.style.gridTemplateColumns=`repeat(${e}, ${t}px)`)}function U(e){A1(e,32,20)}function o1(e,t){const n="#454545",o=[];for(let i=0;i<5*e;i++){const l=r("div","game__number-cell",h);o.push(l),(i+1)%e!==0&&(i+1)%5===0&&(l.style.borderRight=`1px solid ${n}`)}const a=l1(t);for(let i=0;i<a.length;i++)for(let l=0;l<a[i].length;l++){const _=i*e+l;a[i][l]!==0&&(o[_].textContent=a[i][l])}const s=[];for(let i=0;i<5*e;i++){const l=r("div","game__number-cell",y);s.push(l),i<e*5-e&&Math.floor(i/5)%5===4&&(l.style.borderBottom=`1px solid ${n}`)}const c=m1(t);for(let i=0;i<c.length;i++)for(let l=0;l<c[i].length;l++){const _=i*5+l;c[i][l]!==0&&(s[_].textContent=c[i][l])}for(let i=0;i<e*e;i++){const l=r("div","game__game-cell",v);l.dataset.row=Math.floor(i/e),l.dataset.col=i%e;const _=Math.floor(i/e),a1=i%e;(i+1)%e!==0&&(i+1)%5===0&&(l.style.borderRight=`1px solid ${n}`),i<e*e-e&&Math.floor(i/e)%5===4&&(l.style.borderBottom=`1px solid ${n}`);const s1=r("span","game__cross1 game__cross_opacity",l),r1=r("span","game__cross2 game__cross_opacity",l);l.addEventListener("click",function(){l.classList.toggle("game__game-cell_active"),O1(_,a1),t1(t),O(),m(g,!1),m(x,!1)}),l.addEventListener("contextmenu",function(i1){i1.preventDefault(),s1.classList.toggle("game__cross_opacity"),r1.classList.toggle("game__cross_opacity"),O(),m(g,!1),m(x,!1)})}}function k1(e){b=r("div","main-content__game game",e),u1(),h=r("div","game__top-num-grid",b),y=r("div","game__left-num-grid",b),v=r("div","game__game-grid",b)}const N=document.body;let K;function R1(e){N.className="page",$1(N);const t=r("div","page__wrapper",N),n=r("div","main-content",t);K=r("div","main-content__side-panel side-panel",n),S1(K),k1(n);const o=Object.values(M).find(a=>a.size===e);o&&(o1(e,o.data),W(e),localStorage.setItem("currentPuzzle",JSON.stringify({name:o.name,size:o.size})),k(w,o.name,o.size),m(g,!0),JSON.parse(localStorage.getItem("savedGame"))||m(p,!0)),A(),m(x,!0)}const H1=["5x5","10x10","15x15"];document.addEventListener("DOMContentLoaded",function(){R1(5)});
